<!DOCTYPE 'html'>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Hello Node.js</title>
	<script type="text/javascript" src="/websocket.js"></script>
	<script language='javascript' type='text/javascript'>
		var websocket = openWebSocket();
		websocket.onopen = function(event) {
			console.log('ws open');
			websocket.send('hello server');
		};
		websocket.onclose = function(event) { 
			console.log('ws close');
		};
		websocket.onmessage = function(event) {
			console.log('ws message: ' + event.data);
			var appName = event.data;
			var link = document.createElement('a');
			link.href = '/' + appName + '/';
			link.innerHTML = appName;
			document.getElementById('apps').appendChild(link);
		};
		websocket.onerror = function(event) { 
			console.error('ws error');
		};
	</script>
</head>
<body>
	Server for WebSocket applictions hosted at OpenShift and powered by Node.js<br/>
	Fork me on GitHub: <a href="https://github.com/nthend/websocket-server">github.com/nthend/websocket-server</a><br/>
	<br/>
	Available applications:	
	<div id='apps'></div>
</body>
</html>